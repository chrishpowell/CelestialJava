<!DOCTYPE html>
<!--
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script src="https://npmcdn.com/flatpickr/dist/l10n/fr.js"></script>
    </head>
    <body style="font-family:Lucida Console">
        <div>Onchange test 4</div>
        <div id="tz">Timezone...</div>
        <div id="container"></div>
        
        <script>
            // Tell 'em TZ
            document.getElementById("tz").innerHTML = "Your timezone is: "+Intl.DateTimeFormat().resolvedOptions().timeZone;
            
            // Create new div
            var div = document.getElementById("container");
            var fragment = document.createDocumentFragment();

            // Datetime input
            var eld = document.createElement("input");
            // Date current TZ offset
            var offset = new Date().getTimezoneOffset();
            
            // Datetime picker setup
            eld.id = "datetimepick";
            eld.size = 18;
            eld.style.border = "thick solid red";
            eld.style.width = "18em";
            eld.style.font = "Lucida Console";
            
            // See output
            eld.onchange = function(){alert(this.value);};
            
            // Complete fragment
            fragment.appendChild(eld);
            div.appendChild(fragment);  // Attach to container div
                       
            // Initialise (make sure DOM has been updated first!)  defaultHour:23, defaultMinute:59,
            flatpickr(eld, {locale:"fr", defaultDate:"01-Jan-1999 23:59", dateFormat:"j-M-Y H:i", enableTime:true, time_24hr:true, timeFormat:"H:i"} );
        </script>
    </body>
</html>
